(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1031:function(e,t,n){},1033:function(e,t,n){"use strict";n.r(t);var r=n(3),i=n(122),o=n(163),a=n(27),s=n(556),u=n.n(s),c=n(452),l=Object(o.createStyles)({grow:{flexGrow:1},container:{flexDirection:"column",overflow:"hidden",flex:1,display:"flex",maxWidth:"100%"},appbar:{backgroundColor:a.E.grey[300]}}),h=Object(o.withStyles)(l)(function(e){return r.createElement("div",{className:e.classes.container},r.createElement("div",null,r.createElement(a.a,{position:"static",className:e.classes.appbar},r.createElement(a.C,null,r.createElement(a.D,{variant:"h6",color:"inherit",className:e.classes.grow},"Netmosa"),e.actions))),e.children)});function d(e,t){var n=Object(r.useState)(t),i=n[0],o=n[1];return Object(r.useEffect)(function(){var t=e.subscribe(function(e){o(e)});return function(){return t.unsubscribe()}},[]),i}var p=n(558);var m=function(e){var t=Object(r.useState)(e.defaultFilename),n=t[0],i=t[1],o=function(){return Object(p.saveAs)("function"===typeof e.contents?e.contents():"string"===typeof e.contents?new Blob([e.contents],{type:"text/plain;charset=utf-8"}):e.contents,n)};return r.createElement(a.e,{open:e.open,onClose:e.onClose,"aria-labelledby":"form-dialog-title"},r.createElement(a.i,{id:"form-dialog-title"},"Save File"),r.createElement(a.g,null,r.createElement(a.h,null,"Set the filename of the file to download it."),r.createElement(a.B,{autoFocus:!0,margin:"dense",id:"filename",label:"Filename",fullWidth:!0,value:n,onChange:function(e){return i(e.target.value)}})),r.createElement(a.f,null,r.createElement(a.c,{onClick:e.onClose},"Cancel"),r.createElement(a.c,{onClick:function(){o(),e.onClose()}},"Save")))};function f(e){var t=Object(r.useState)(!1),n=t[0],i=t[1],o=e.label||"Save File",s=function(){return i(!0)},u=e.button?e.button({onClick:s}):r.createElement(a.c,{color:"inherit",onClick:s},o);return r.createElement(r.Fragment,null,u,r.createElement(m,{open:n,onClose:function(){return i(!1)},defaultFilename:e.defaultFilename,contents:e.contents}))}var b=function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(r.result)},r.onabort=function(){return n("Aborted")},r.onerror=function(){return n("Error on reading file")},r.readAsText(e)})};var g,v=function(e){var t=Object(r.useRef)(null),n=e.label||"Open File",i=function(){return t.current&&t.current.click()},o=e.button?e.button({onClick:i}):r.createElement(a.c,{onClick:i,color:"inherit"},n);return r.createElement(r.Fragment,null,o,r.createElement("input",{type:"file",style:{display:"none"},onChange:function(t){var n=t.target.files&&t.target.files.item(0);n&&b(n).then(e.onLoad)},ref:t}))},y=n(559),E=n.n(y),x=n(560),j=n.n(x),S=n(561),w=n.n(S),C=n(562),O=n.n(C),k=n(563),_=n.n(k),z=function(e,t){return{name:e,load:function(){return fetch(t).then(function(e){return e.text()})}}},A=[z("Barab\xe1si\u2013Albert",E.a),z("No Restarting Random Walk (NRRW)",j.a),z("Bernoulli Growth Random Walk (BGRW)",w.a),z("Erd\u0151s\u2013R\xe9nyi (GNP)",O.a),z("Uniform Random Tree",_.a)],L=function(e){var t=Object(r.useState)(null),n=t[0],i=t[1],o=function(t){e.setCode(t),i(null)};return r.createElement(r.Fragment,null,r.createElement(a.c,{color:"inherit",onClick:function(e){var t=e.currentTarget;return i(t)}},"Examples"),r.createElement(a.p,{anchorEl:n,open:null!==n,onClose:function(){return i(null)}},A.map(function(e,t){return r.createElement(a.q,{key:t,onClick:function(){return e.load().then(o)}},e.name)})))},M=function(e){return r.createElement(r.Fragment,null,r.createElement(a.c,{color:"inherit",href:"https://github.com/bamorim/netmosa/tree/master/docs/index.md",target:"_blank"},"Docs"),r.createElement(f,{contents:e.code,defaultFilename:"script.lua",label:"Save"}),r.createElement(v,{onLoad:e.setCode,label:"Open"}),r.createElement(L,{setCode:e.setCode}),r.createElement(a.c,{onClick:function(){return e.run()},color:"inherit"},"Start"))},R=function(e){var t=e.appState,n=Object(r.useState)(null),i=n[0],o=n[1],a=d(t.lastError$,void 0),s=d(t.code$,""),l=function(){var e=i&&i.getModel();e&&a&&c.editor.setModelMarkers(e,"test",[{startLineNumber:a.lineNo,startColumn:1,endLineNumber:a.lineNo,endColumn:1e3,message:function(e){switch(e.type){case"runtime":return"Runtime Error";case"syntax":return e.message||"Syntax Error"}}(a),severity:c.MarkerSeverity.Warning}])};Object(r.useEffect)(l,[s,a]);return r.createElement(h,{actions:r.createElement(M,{code:s,setCode:t.setCode,run:t.run})},r.createElement(u.a,{language:"lua",theme:"vs-light",value:s,onChange:function(e){return t.setCode(e)},editorDidMount:function(e){o(e),l()},options:{minimap:{enabled:!1},automaticLayout:!0}}))},N=n(1093),$=n(112),T=n(1095),D=n(1087),F=n(190),G=function(){return(G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},P=Object(o.createStyles)({container:{flex:"1",position:"relative"},svg:{position:"absolute",top:"0",left:"0",height:"100%"}}),V=Object(o.withStyles)(P)(function(e){var t=Object(r.useRef)(null);return Object(r.useLayoutEffect)(function(){var n=e.onHighlightChange?e.onHighlightChange:function(){return null},r=new B(t.current,e.graph,n,e.bufferBy,e.autozoomEnabled$);return function(){return r.destroy()}},[e.graph]),r.createElement("div",{className:e.classes.container},r.createElement("svg",{ref:t,className:e.classes.svg,width:"100%",height:"100%"}))}),B=function(){function e(e,t,n,r,i){var o=this;this.nodes=[],this.links=[],this.isAutozooming=!1,this.autozoomEnabled=!0,this.autozoomTemporarilyDisabled=!1,this.onChanges=function(e){e.forEach(o.processChange),o.update()},this.processChange=function(e){switch(e.type){case"AddedVertex":var t=o.graph.vertices[e.id],n=t.neighbors.length>0?o.nodes[t.neighbors[0]]:o.nodes.length>0?o.nodes[0]:void 0,r=n?{x:n.x||0,y:n.y||0}:{x:0,y:0};o.nodes[e.id]=G({},r,{index:e.id});break;case"AddedEdge":var i=o.graph.edges[e.id],a=i[0],s=i[1];o.links[e.id]={source:o.nodes[a],target:o.nodes[s],index:e.id}}},this.ticked=function(){o.linkLines.attr("d",function(e){var t=e.source.index===e.target.index,n=e.source.x||0,r=e.source.y||0,i=e.target.x||0,o=e.target.y||0;return t?"M"+n+","+r+" a8,8 0 1,1 1,0":"M"+n+","+r+" L "+i+","+o}),o.nodeCircles.attr("cx",function(e){return e.x||0}).attr("cy",function(e){return e.y||0}).attr("fill",function(e){return o.graph.vertices[e.index].attributes.get("color")||"white"}),o.autozoom()},this.dragstarted=function(e){$.b.active||o.force.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y},this.dragged=function(e){e.fx=$.b.x,e.fy=$.b.y},this.dragended=function(e){$.b.active||o.force.alphaTarget(0),e.fx=null,e.fy=null},this.mouseover=function(e){o.onHighlightChange(e.index);var t=new Set(o.graph.vertices[e.index].neighbors),n=$.h().duration(200);o.nodeCircles.transition(n).style("opacity",function(n){return function(n){return n===e||t.has(n.index)}(n)?1:.2}),o.linkLines.transition(n).style("opacity",function(t){return function(t){return t.source===e||t.target===e}(t)?1:.2})},this.mouseout=function(e){o.onHighlightChange();var t=$.h().duration(200);o.nodeCircles.transition(t).style("opacity",1),o.linkLines.transition(t).style("opacity",1)},this.zoomed=function(){o.isAutozooming||o.disableAutozoom(),o.transformationGroup.attr("transform",$.b.transform)},this.reenableAutozoom=function(){o.autozoomTemporarilyDisabled=!1,o.autozoom()},this.graph=t,this.onHighlightChange=n;var a,s=e.clientWidth,u=e.clientHeight;this.zoom=$.i().on("zoom",this.zoomed),this.force=$.f().nodes(this.nodes).on("tick",this.ticked).force("charge",$.e().strength(-100)).force("link",$.d(this.links).strength(.5)).force("center",$.c(s/2,u/2)),this.svg=$.g(e).call(this.zoom),this.transformationGroup=this.svg.append("g"),this.linkLines=this.transformationGroup.append("g").attr("stroke","#000").attr("stroke-width",1.5).attr("fill","transparent").selectAll(".link"),this.nodeCircles=this.transformationGroup.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll(".node"),this.update(),a=r?this.graph.event$.pipe(Object(T.a)(r)):this.graph.event$.pipe(Object(D.a)(function(e){return[e]})),this.subscription=a.subscribe(this.onChanges),this.autozoomEnabled=!0,i&&(this.autozoomSubscription=i.subscribe(function(e){o.autozoomEnabled=e}))}return e.prototype.destroy=function(){this.subscription.unsubscribe(),this.autozoomSubscription&&this.autozoomSubscription.unsubscribe(),this.force.stop(),this.clearReenableAutozoomTimer()},e.prototype.shouldAutozoom=function(){return this.autozoomEnabled&&!this.autozoomTemporarilyDisabled},e.prototype.update=function(){var e=this.linkLines.data(this.links);e.exit().remove(),this.linkLines=e.enter().append("path").merge(this.linkLines);var t=this.nodeCircles.data(this.nodes);t.exit().remove(),this.nodeCircles=t.enter().append("circle").attr("r",8).attr("stroke","black").call($.a().on("start",this.dragstarted).on("drag",this.dragged).on("end",this.dragended)).on("mouseover",this.mouseover).on("mouseout",this.mouseout).merge(this.nodeCircles),this.force.nodes(this.nodes),this.force.force("link").links(this.links),this.force.restart(),this.force.alpha(.1)},e.prototype.disableAutozoom=function(){this.clearReenableAutozoomTimer(),this.autozoomTemporarilyDisabled=!0,this.reenableAutozoomTimer=Object(F.setTimeout)(this.reenableAutozoom,5e3)},e.prototype.clearReenableAutozoomTimer=function(){this.reenableAutozoomTimer&&Object(F.clearTimeout)(this.reenableAutozoomTimer)},e.prototype.autozoom=function(){if(this.shouldAutozoom()){var e=this.transformationGroup.node(),t=e.getBBox(),n=e.parentElement,r=n&&(n.clientWidth||n.parentElement&&n.parentElement.clientWidth),i=n&&(n.clientHeight||n.parentElement&&n.parentElement.clientHeight);if(r&&i){var o=t.width,a=t.height,s=t.x+o/2,u=t.y+a/2;if(0!==o&&0!==a){var c=Math.min(1,.95/Math.max(o/r,a/i));this.isAutozooming=!0,this.svg.call(this.zoom.transform,$.j.translate(r/2,i/2).scale(c).translate(-s,-u)),this.isAutozooming=!1}}else console.debug("Could not get parent dimensions")}},e}(),W=Object(o.createStyles)({row:{height:"auto !important"}}),I=Object(o.withStyles)(W)(function(e){var t=e.entries,n=e.classes;return r.createElement(a.w,{padding:"dense"},r.createElement(a.x,null,t.map(function(e,t){return r.createElement(a.z,{key:t,classes:{root:n.row}},e.map(function(e,t){return r.createElement(a.y,{key:t},e)}))})))}),X=Object(o.createStyles)({container:{margin:"10px"}}),q=Object(o.withStyles)(X)(function(e){var t=e.graph.vertices[e.vertexId],n=[["index",e.vertexId.toString()],["degree",t.neighbors.length.toString()]];return t.attributes.forEach(function(e,t){n.push([t,e])}),r.createElement(a.r,{className:e.classes.container},r.createElement(I,{entries:n}))}),H=Object(o.createStyles)({container:{flex:"1",display:"flex"},details:{position:"absolute",bottom:0,right:0}}),Y=Object(o.withStyles)(H)(function(e){var t=Object(r.useState)(void 0),n=t[0],i=t[1];return r.createElement("div",{className:e.classes.container},void 0!==n?r.createElement(q,{vertexId:n,graph:e.simulation.graph,classes:{container:e.classes.details}}):null,r.createElement(V,{graph:e.simulation.graph,bufferBy:e.simulation.tick$,onHighlightChange:i,autozoomEnabled$:e.autozoomEnabled$}))}),J=(g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),K=Object(o.createStyles)({radioGroup:{flexDirection:"row"}}),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return J(t,e),t.prototype.render=function(){var e=this;return r.createElement(a.j,null,r.createElement(a.l,null,"Transformation"),r.createElement(a.t,{"aria-label":"Transformation",name:"transformation",value:this.props.transformation,classes:{root:this.props.classes.radioGroup},onChange:function(t,n){return e.props.setTransformation(n)}},r.createElement(a.k,{value:"pdf",control:r.createElement(a.s,null),label:"PDF"}),r.createElement(a.k,{value:"cdf",control:r.createElement(a.s,null),label:"CDF"}),r.createElement(a.k,{value:"ccdf",control:r.createElement(a.s,null),label:"CCDF"})),r.createElement(a.l,null,"X Scale"),r.createElement(a.t,{"aria-label":"Transformation",name:"transformation",value:this.props.xLog?"log":"linear",classes:{root:this.props.classes.radioGroup},onChange:function(t,n){return e.props.setXLog("log"===n)}},r.createElement(a.k,{value:"linear",control:r.createElement(a.s,null),label:"Linear"}),r.createElement(a.k,{value:"log",control:r.createElement(a.s,null),label:"Log"})),r.createElement(a.l,null,"Y Scale"),r.createElement(a.t,{"aria-label":"Transformation",name:"transformation",value:this.props.yLog?"log":"linear",classes:{root:this.props.classes.radioGroup},onChange:function(t,n){return e.props.setYLog("log"===n)}},r.createElement(a.k,{value:"linear",control:r.createElement(a.s,null),label:"Linear"}),r.createElement(a.k,{value:"log",control:r.createElement(a.s,null),label:"Log"})))},t}(r.PureComponent),Q=Object(o.withStyles)(K)(U),Z=n(1088),ee=n(1096),te=n(1089),ne=n(576),re=n(577),ie=n(260),oe=n(316),ae=n(588),se=n(1098),ue=n(587),ce=n(1090),le=n(1091),he=function(e){var t=e.toExponential().split("e"),n=t[0],r=t[1];return n.substring(0,4)+"e"+r},de=function(e){var t=e.value,n=he(t).split("e"),i=n[0],o=n[1],a="+"===o.substring(0,1)?o.substring(1):o;return r.createElement(r.Fragment,null,i," 10",r.createElement("sup",null,a))},pe=n(578),me=function(){return(me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},fe=function(e){var t=ve(e.distribution,e.transformation).map(function(e,t){return{x:t,y:e||0}});e.xLog&&(t=ge("x",t)),e.yLog&&(t=ge("y",t));var n=be(e.xLog,t.map(function(e){return e.x})),i=be(e.yLog,t.map(function(e){return e.y}));return r.createElement(Z.a,{height:"100%",width:"100%"},r.createElement(ee.a,{data:t,margin:{top:5,right:30,left:20,bottom:5}},r.createElement(te.a,{strokeDasharray:"3 3"}),r.createElement(ne.a,{type:"number",dataKey:"x",domain:["dataMin","dataMax"],ticks:n.ticks,tickFormatter:function(e){return he(n.normalize(e))}}),r.createElement(re.a,{domain:["dataMin","dataMax"],ticks:i.ticks,tickFormatter:function(e){return he(i.normalize(e))}}),r.createElement(ie.a,{verticalAlign:"top",height:36}),r.createElement(oe.a,{formatter:function(e){return r.createElement(de,{value:i.normalize(e)})},labelFormatter:function(t){return r.createElement("span",null,e.name,":"," ",r.createElement(de,{value:n.normalize(t)}))}}),r.createElement(ae.a,{dataKey:"y",stroke:"#8884d8",isAnimationActive:!1,name:"P"})))},be=function(e,t){var n=e?function(e){return Math.pow(10,e)}:function(e){return e},r=Object(ue.a)(Object(ce.a)(function(e){return e}),-1/0,t),i=Object(ue.a)(Object(le.a)(function(e){return e}),1/0,t);return{ticks:e?function(e,t){return Object(se.a)(Math.ceil(e),Math.floor(t)+1)}(i,r):function(e,t){var n=Math.floor(t-e),r=Object(pe.a)(6,n),i=Math.ceil((t-e)/r);return Object(se.a)(1,r+1).map(function(e){return e*i}).filter(function(e){return e<=t})}(i,r),normalize:n}},ge=function(e,t){return t.filter(function(t){return t[e]>0}).map(function(t){var n;return me({},t,((n={})[e]=Math.log10(t[e]),n))})},ve=function(e,t){switch(t){case"pdf":return ye(e);case"cdf":return Ee(e);default:return xe(e)}},ye=function(e){var t=e.reduce(function(e,t){return e+t},0);return e.map(function(e){return e/t})},Ee=function(e){var t=[];return ye(e).forEach(function(e){return t.push((t[t.length-1]||0)+e)}),t},xe=function(e){return Ee(e).map(function(e){return 1-e})},je=n(1092),Se=function(e){var t=e.distribution.map(function(e,t){return{y:e,x:t}}).filter(function(e){return e.y>0}),n=t.reduce(function(e,t){return e+t.y},0),i=t.reduce(function(e,t){var n=t.x;return Object(pe.a)(e,n)},1/0),o=t.reduce(function(e,t){var n=t.x;return Object(je.a)(e,n)},-1/0),a=t.map(function(e){return e.x*e.y}).reduce(function(e,t){return e+t},0)/n,s=[["min",r.createElement(de,{key:"min",value:i})],["max",r.createElement(de,{key:"max",value:o})],["mean",r.createElement(de,{key:"mean",value:a})]];return r.createElement(I,{entries:s})},we=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ce=function(){return(Ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Oe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n},ke=Object(o.createStyles)({container:{flex:"1",display:"flex",flexDirection:"column",padding:"20px 50px"},chartContainer:{flex:"1",paddingBottom:"50px"}}),_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={distribution:[],transformation:"pdf",xLog:!1,yLog:!1},t.generateCSVBlob=function(){var e=t.state.distribution.map(function(e,t){return t+","+e}).join("\n");return new Blob([e],{type:"text/csv;charset=utf-8"})},t}return we(t,e),t.prototype.componentDidMount=function(){var e=this;this.subscription=this.props.distribution.subscribe(function(t){return e.setState({distribution:t})})},t.prototype.componentWillUnmount=function(){this.subscription.unsubscribe()},t.prototype.render=function(){var e=this,t=this.state,n=t.distribution,i=Oe(t,["distribution"]);return r.createElement("div",{className:this.props.classes.container},r.createElement("div",{className:this.props.classes.chartContainer},r.createElement(fe,Ce({},this.state,{name:this.props.name}))),r.createElement(a.m,{container:!0,spacing:24},r.createElement(a.m,{item:!0,xs:6},r.createElement(Q,Ce({},i,{setTransformation:function(t){return e.setState({transformation:t})},setXLog:function(t){return e.setState({xLog:t})},setYLog:function(t){return e.setState({yLog:t})}}))),r.createElement(a.m,{item:!0,xs:6},r.createElement(f,{contents:this.generateCSVBlob,defaultFilename:"distribution.csv",button:function(e){return r.createElement(a.c,Ce({variant:"outlined"},e),"Export Distribution to CSV")}}),r.createElement(Se,{distribution:n}))))},t}(r.Component),ze=Object(o.withStyles)(ke)(_e),Ae=n(579),Le=n.n(Ae),Me=n(580),Re=n.n(Me),Ne=n(581),$e=n.n(Ne),Te=n(582),De=n.n(Te),Fe=Object(o.createStyles)({chip:{margin:"5px"},sliderWrapper:{width:150,padding:"0 10px",display:"inline-flex"},track:{background:"#ffffff"},thumb:{background:"#999999"},formControl:{}}),Ge=Object(o.withStyles)(Fe)(function(e){var t=Object(r.useState)(null),n=t[0],i=t[1],o=Object(r.useState)(!1),s=o[0],u=o[1];return r.createElement(r.Fragment,null,r.createElement(a.d,{variant:"outlined",className:e.classes.chip,avatar:r.createElement(a.b,null,e.vertexCount),label:"Vertices"}),r.createElement(a.d,{variant:"outlined",className:e.classes.chip,avatar:r.createElement(a.b,null,e.edgeCount),label:"Edges"}),r.createElement(a.j,{className:e.classes.formControl},r.createElement(a.o,{htmlFor:"age-native-simple"},"Speed"),r.createElement(a.u,{value:e.speed,onChange:function(t){return e.setSpeed(parseInt(t.target.value,10))}},r.createElement(a.q,{value:1},"1X"),r.createElement(a.q,{value:2},"2X"),r.createElement(a.q,{value:4},"4X"),r.createElement(a.q,{value:8},"8X"),r.createElement(a.q,{value:16},"16X"),r.createElement(a.q,{value:32},"32X"))),e.paused?r.createElement(a.n,{onClick:function(){return e.play()},color:"inherit"},r.createElement(Le.a,null)):r.createElement(a.n,{onClick:function(){return e.pause()},color:"inherit"},r.createElement(Re.a,null)),r.createElement(a.n,{onClick:e.stop,color:"inherit"},r.createElement($e.a,null)),r.createElement(a.n,{onClick:function(e){var t=e.currentTarget;return i(t)},color:"inherit"},r.createElement(De.a,null)),r.createElement(a.p,{anchorEl:n,open:null!==n,onClose:function(){return i(null)}},r.createElement(a.q,{onClick:function(){return i(null),void e.setAutozoomEnabled(!e.autozoomEnabled)}},e.autozoomEnabled?"Disable":"Enable"," Autozoom"),r.createElement(a.q,{onClick:function(){return i(null),void u(!0)}},"Export Graph")),r.createElement(m,{open:s,onClose:function(){return u(!1)},defaultFilename:"graph.graphml",contents:e.generateGraphML}))}),Pe=n(583),Ve=n(586),Be=function(){return(Be=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},We=Object(o.createStyles)({hidden:{display:"none"},container:{position:"relative",flex:"1",display:"flex"}}),Ie=Object(o.withStyles)(We)(function(e){var t=e.simulationState,n=e.classes,i=e.stop,o=t.simulation,s=t.autozoomEnabled$,u=t.degreeDistributionCollector,c=t.distanceToRootDistributionCollector,l=t.setAutozoomEnabled,p=o.setSpeed,m=o.play,f=o.pause,b=Object(r.useState)("graph"),g=b[0],v=b[1],y=d(s,!0),E=d(o.paused$,!0),x=d(o.speed$,0),j=d(o.graph.edgeCount$.pipe(Object(N.a)(250)),0),S=d(o.graph.vertexCount$.pipe(Object(N.a)(250)),0),w="graph"===g?{}:{container:n.hidden},C="degree_dist"===g?{}:{container:n.hidden},O="distance_dist"===g?{}:{container:n.hidden},k={autozoomEnabled:y,edgeCount:j,generateGraphML:function(e){var t=e.vertices.map(function(e){return Array.from(e.attributes.keys())}).reduce(function(e,t){return Object(Ve.a)(e,t)},[]).map(function(e){return{"@id":"d"+e,"@for":"node","@attr.name":e,"@attr.type":"string",default:"color"===e?[{"#text":"white"}]:[]}}),n=e.vertices.map(function(e,t){return{"@id":"n"+t,data:Array.from(e.attributes.keys()).map(function(t){return{"@key":"d"+t,"#text":e.attributes.get(t)}})}}),r=e.edges.map(function(e,t){return{"@source":"n"+e[0],"@target":"n"+e[1]}}),i={graphml:{"@xmlns":"http://graphml.graphdrawing.org/xmlns","@xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","@xsi:schemaLocation":["http://graphml.graphdrawing.org/xmlns","http://graphml.graphdrawing.org/xmlns/1.0/graphml.xsd"].join(" "),key:t,graph:{"@id":"G","@edgedefault":"undirected",node:n,edge:r}}},o=Pe.create(i,{encoding:"utf-8"}).end({pretty:!0});return new Blob([o],{type:"application/graphml+xml;charset=utf-8"})}.bind(null,o.graph),pause:f,paused:E,play:m,setAutozoomEnabled:l,setSpeed:p,speed:x,stop:i,vertexCount:S};return r.createElement(h,{actions:r.createElement(Ge,Be({},k))},r.createElement(a.A,{value:g,onChange:function(e,t){return v(t)},indicatorColor:"primary",textColor:"primary",centered:!0},r.createElement(a.v,{value:"graph",label:"Graph"}),r.createElement(a.v,{value:"degree_dist",label:"Degree"}),r.createElement(a.v,{value:"distance_dist",label:"Distance to Root"})),r.createElement("div",{className:n.container},r.createElement(Y,{simulation:o,classes:w,autozoomEnabled$:s}),r.createElement(ze,{distribution:u.distribution$,classes:C,name:"Degree"}),r.createElement(ze,{distribution:c.distribution$,classes:O,name:"Distance to Root"})))}),Xe=Object(o.createMuiTheme)({typography:{useNextVariants:!0},palette:{type:"light",primary:a.E.grey,secondary:a.E.lightBlue}}),qe=function(e){var t=e.appState,n=d(t.simulationState$,void 0);return r.createElement(o.MuiThemeProvider,{theme:Xe},n?r.createElement(Ie,{stop:t.stop,simulationState:n}):r.createElement(R,{appState:t}))};n(1031),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var He=n(1094),Ye=n(584),Je=n.n(Ye),Ke=n(1097),Ue=function(e,t,n){e[t]=e[t]||0,e[t]+=n},Qe=function(){function e(e){var t=this;this.distribution=[],this.distributionSubject=new He.a(1),this.degrees=new Map,this.distribution$=this.distributionSubject.asObservable(),this.onGraphEvents=function(e){e.forEach(t.processEvent),t.distributionSubject.next(t.distribution)},this.processEvent=function(e){switch(e.type){case"AddedVertex":t.degrees.set(e.id,0),Ue(t.distribution,0,1);break;case"AddedEdge":var n=e.edge,r=n[0],i=n[1],o=t.degrees.get(r),a=t.degrees.get(i);Ue(t.distribution,o,-1),Ue(t.distribution,o+1,1),t.degrees.set(r,o+1),r!==i&&(Ue(t.distribution,a,-1),Ue(t.distribution,a+1,1),t.degrees.set(i,a+1))}},this.subscription=e.event$.pipe(Object(T.a)(Object(Ke.a)(500))).subscribe(this.onGraphEvents)}return e.prototype.destroy=function(){this.subscription.unsubscribe()},e}(),Ze=function(e,t,n){e[t]=e[t]||0,e[t]+=n},et=function(){function e(e){var t=this;this.distribution=[],this.distributionSubject=new He.a(1),this.distances=new Map,this.distribution$=this.distributionSubject.asObservable(),this.onGraphEvents=function(e){e.forEach(t.processEvent),t.distributionSubject.next(t.distribution)},this.processEvent=function(e){switch(e.type){case"AddedVertex":0===e.id&&(t.distances.set(e.id,0),Ze(t.distribution,0,1));break;case"AddedEdge":var n=e.edge,r=n[0],i=n[1],o=t.distances.get(r),a=t.distances.get(i);void 0===o&&void 0===a||(void 0!==o&&void 0===a?(t.distances.set(i,o+1),Ze(t.distribution,o+1,1)):void 0!==a&&void 0===o?(t.distances.set(r,a+1),Ze(t.distribution,a+1,1)):void 0!==o&&void 0!==a&&(a>o?(t.distances.set(i,o+1),Ze(t.distribution,a,-1),Ze(t.distribution,o+1,1)):o>a&&(t.distances.set(r,a+1),Ze(t.distribution,o,-1),Ze(t.distribution,a+1,1))))}},this.subscription=e.event$.pipe(Object(T.a)(Object(Ke.a)(500))).subscribe(this.onGraphEvents)}return e.prototype.destroy=function(){this.subscription.unsubscribe()},e}(),tt=n(585),nt=function(){return function(e){this.attributes=new Map,this.neighbors=[],this.id=e}}(),rt=function(){function e(){var e=this;this.eventSubject=new He.a,this.edgeCountSubject=new He.a(1),this.vertexCountSubject=new He.a(1),this.edges=[],this.vertices=[],this.event$=this.eventSubject.asObservable(),this.edgeCount$=this.edgeCountSubject.asObservable(),this.vertexCount$=this.vertexCountSubject.asObservable(),this.addVertex=function(){var t=new nt(e.vertices.length);return e.vertices.push(t),e.vertexCountSubject.next(e.vertices.length),e.eventSubject.next({type:"AddedVertex",id:t.id}),t.id},this.connectVertices=function(t,n){if(!(t>=e.vertices.length)&&!(t<0)&&!(n>=e.vertices.length)&&!(n<0)){var r=e.edges.length,i=[t,n];return e.edges.push(i),e.edgeCountSubject.next(e.edges.length),e.vertices[t].neighbors.push(n),t!==n&&e.vertices[n].neighbors.push(t),e.eventSubject.next({type:"AddedEdge",id:r,edge:i}),r}},this.setAttribute=function(t,n,r){return e.vertices.length>t&&(e.vertices[t].attributes.set(n,r),e.eventSubject.next({type:"SetAttribute",id:t,key:n,value:r}),!0)},this.edgeCountSubject.next(0),this.vertexCountSubject.next(0)}return e.prototype.getAttribute=function(e,t){return this.vertices.length>e?this.vertices[e].attributes.get(t):void 0},e.prototype.getNeighbor=function(e,t){return this.vertices.length>e&&this.vertices[e].neighbors.length>t?this.vertices[e].neighbors[t]:void 0},e.prototype.getNeighborCount=function(e){return this.vertices.length>e?this.vertices[e].neighbors.length:void 0},e.prototype.getEdge=function(e){return this.edges.length>e?this.edges[e]:void 0},e.prototype.getRandomVertex=function(){return this.vertices.length>0?Math.floor(Math.random()*this.vertices.length):void 0},e.prototype.getRandomEdge=function(){if(this.edges.length>0){var e=Math.floor(Math.random()*this.edges.length);return this.edges[e]}},e.prototype.getRandomNeighbor=function(e){if(this.vertices.length>e&&this.vertices[e].neighbors.length>0){var t=Math.floor(Math.random()*this.vertices[e].neighbors.length);return this.vertices[e].neighbors[t]}},e}(),it=function(){function e(e,t){var n=this;this.running=!1,this.shouldReschedule=!1,this.destroyed=!1,this.handler=function(){n.destroyed||(n.callback(),n.shouldReschedule&&n.reschedule())},this.callback=t,this.setSpeed(e)}return e.prototype.isPaused=function(){return!this.running},e.prototype.play=function(){this.running||this.reschedule()},e.prototype.pause=function(){this.running=!1,Object(F.clearInterval)(this.interval)},e.prototype.setSpeed=function(e){this.period=320/e,this.shouldReschedule=!0},e.prototype.reschedule=function(){this.running=!0,this.shouldReschedule=!1,Object(F.clearInterval)(this.interval),this.interval=Object(F.setInterval)(this.handler,this.period)},e.prototype.destroy=function(){Object(F.clearInterval)(this.interval),this.shouldReschedule=!1,this.destroyed=!0},e}(),ot=n(148),at=ot.lua,st=[],ut=function(e,t){for(var n=0,r=st;n<r.length;n++){var i=r[n];at.lua_pushcfunction(e,i.fn(t)),at.lua_setglobal(e,i.name)}},ct=function(e,t){st.push({name:e,fn:t})};ct("addVertex",function(e){return function(t){var n=e.addVertex();return ht(t,n)}}),ct("connectVertices",function(e){return function(t){var n=at.lua_tonumber(t,1)-1,r=at.lua_tonumber(t,2)-1,i=e.connectVertices(n,r);return ht(t,i)}}),ct("setAttributes",function(e){return function(t){var n=at.lua_tonumber(t,1)-1,r=ot.to_jsstring(at.lua_tostring(t,2)),i=ot.to_jsstring(at.lua_tostring(t,3)),o=e.setAttribute(n,r,i);return at.lua_pushboolean(t,o),1}}),ct("getAttributes",function(e){return function(t){var n=at.lua_tonumber(t,1)-1,r=ot.to_jsstring(at.lua_tostring(t,2)),i=e.getAttribute(n,r);return pt(t,i)}}),ct("getNeighbor",function(e){return function(t){var n=at.lua_tonumber(t,1)-1,r=at.lua_tonumber(t,2)-1,i=e.getNeighbor(n,r);return ht(t,i)}}),ct("getNeighborCount",function(e){return function(t){var n=at.lua_tonumber(t,1)-1,r=e.getNeighborCount(n);return dt(t,r)}}),ct("getVertexCount",function(e){return function(t){var n=e.vertices.length;return dt(t,n)}}),ct("getEdgeCount",function(e){return function(t){var n=e.edges.length;return dt(t,n)}}),ct("getEdge",function(e){return function(t){var n=at.lua_tonumber(t,1)-1,r=e.getEdge(n);return lt(t,r)}}),ct("getRandomVertex",function(e){return function(t){var n=e.getRandomVertex();return ht(t,n)}}),ct("getRandomEdge",function(e){return function(t){var n=e.getRandomEdge();return lt(t,n)}}),ct("getRandomNeighbor",function(e){return function(t){var n=at.lua_tonumber(t,1)-1,r=e.getRandomNeighbor(n);return ht(t,r)}});var lt=function(e,t){if(void 0!==t){var n=t[0],r=t[1];return at.lua_pushnumber(e,n+1),at.lua_pushnumber(e,r+1),2}return at.lua_pushnil(e),1},ht=function(e,t){return void 0!==t?at.lua_pushnumber(e,t+1):at.lua_pushnil(e),1},dt=function(e,t){return void 0!==t?at.lua_pushnumber(e,t):at.lua_pushnil(e),1},pt=function(e,t){return void 0!==t?at.lua_pushstring(e,t):at.lua_pushnil(e),1},mt=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(z){o=[6,z],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ft=ot.lua,bt=ot.lauxlib,gt=ot.lualib,vt="\nfunction render()\n  coroutine.yield()\nend\n\nfunction main()\n".trim(),yt="end",Et=function(e){return[vt,e,yt].join("\n")},xt=function(e){return{type:"runtime",lineNo:e}},jt=function(e,t){return{type:"syntax",lineNo:e,message:t}};var St=function(){function e(e,t){var n=this;this.pausedSubject=new He.a(1),this.speedSubject=new He.a(1),this.tickSubject=new tt.a,this.paused$=this.pausedSubject.asObservable(),this.speed$=this.speedSubject.asObservable(),this.tick$=this.tickSubject.asObservable(),this.pause=function(){n.timer.pause(),n.pausedSubject.next(n.timer.isPaused())},this.play=function(){n.timer.play(),n.pausedSubject.next(n.timer.isPaused())},this.setSpeed=function(e){n.timer.setSpeed(e),n.speedSubject.next(e)},this.tick=function(){var e=n.iterator.next();n.tickSubject.next(e.value),e.done&&n.pause(),e.value&&n.onError(e.value)};this.onError=t;var r=new rt;this.graph=r,this.iterator=function(e,t){var n,r,i,o,a,s,u,c,l,h;return mt(this,function(d){switch(d.label){case 0:if(n=bt.luaL_newstate(),gt.luaL_openlibs(n),ut(n,t),bt.luaL_loadstring(n,ot.to_luastring(Et(e))))return r=/^\[[^\]]*\]:(\d+): (.*)$/,i=ot.to_jsstring(ft.lua_tostring(n,1)),(o=i.match(r))&&3===o.length?(h=parseInt(o[1],10)-vt.split("\n").length,a=o[2],[2,jt(h,a)]):[2,jt(0)];if(ft.lua_pcall(n,0,0,0))return[2,xt(0)];s=ft.lua_newthread(n),ft.lua_getglobal(s,"main"),d.label=1;case 1:d.label=2;case 2:return d.trys.push([2,4,,5]),u=ft.lua_resume(s,null,0),[4];case 3:return d.sent(),0===u?[3,6]:[3,5];case 4:return c=d.sent(),console.log(c),l=new ft.lua_Debug,ft.lua_getstack(s,0,l)>0?(ft.lua_getinfo(s,ot.to_luastring("Slnt",!0),l),h=l.currentline-vt.split("\n").length,[2,xt(h)]):[2,xt(0)];case 5:return[3,1];case 6:return[2]}})}(e,r),this.timer=new it(1,this.tick),this.pausedSubject.next(this.timer.isPaused()),this.speedSubject.next(1)}return e.prototype.destroy=function(){this.timer.destroy()},e}(),wt=function(){function e(e,t){var n=this;this.autozoomEnabledSubject=new He.a(1),this.autozoomEnabled$=this.autozoomEnabledSubject.asObservable(),this.setAutozoomEnabled=function(e){n.autozoomEnabled!==e&&(n.autozoomEnabled=e,n.autozoomEnabledSubject.next(e))},this.setAutozoomEnabled(!0),this.simulation=new St(e,t),this.simulation.play(),this.degreeDistributionCollector=new Qe(this.simulation.graph),this.distanceToRootDistributionCollector=new et(this.simulation.graph)}return e.prototype.destroy=function(){this.simulation.destroy(),this.degreeDistributionCollector.destroy(),this.distanceToRootDistributionCollector.destroy()},e}(),Ct=new(function(){return function(){var e=this;this.codeSubject=new He.a(1),this.simulationStateSubject=new He.a(1),this.lastErrorSubject=new He.a(1),this.code$=this.codeSubject.asObservable(),this.simulationState$=this.simulationStateSubject.asObservable(),this.lastError$=this.lastErrorSubject.asObservable(),this.setCode=function(t){e.lastErrorSubject.next(void 0),e.code=t,e.codeSubject.next(t)},this.stop=function(){e.simulationState&&e.simulationState.destroy(),e.simulationState=void 0,e.simulationStateSubject.next(void 0)},this.run=function(){e.stop(),e.simulationState=new wt(e.code,e.onError),e.simulationStateSubject.next(e.simulationState)},this.onError=function(t){e.simulationStateSubject.next(void 0),e.lastErrorSubject.next(t)},fetch(Je.a).then(function(e){return e.text()}).then(function(t){return e.setCode(t)})}}());i.render(r.createElement(qe,{appState:Ct}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},559:function(e,t,n){e.exports=n.p+"static/media/barabasi_albert.e12d0b43.lua"},560:function(e,t,n){e.exports=n.p+"static/media/nrrw.58c785df.lua"},561:function(e,t,n){e.exports=n.p+"static/media/bgrw.20bf2e1a.lua"},562:function(e,t,n){e.exports=n.p+"static/media/gnp.f71262a7.lua"},563:function(e,t,n){e.exports=n.p+"static/media/random_tree.6611f9e1.lua"},584:function(e,t,n){e.exports=n.p+"static/media/tutorial.de167a57.lua"},647:function(e,t,n){e.exports=n(1033)}},[[647,2,3]]]);
//# sourceMappingURL=main.98b7523b.chunk.js.map